# EvoSuite

## Running EvoSuite 1.2.0 from command line (Unix-like)

Requirements:

- `Java` 8
- `Maven` 3.1+

Steps:

1. Download the executable JAR from [here](https://github.com/EvoSuite/evosuite/releases/tag/v1.2.0) or build from source with the following steps:
    1. `git clone https://github.com/EvoSuite/evosuite`
    2. `cd evosuite`
    3. `git checkout v1.2.0`
    4. `mvn package -DskipTests=true` (the executable JAR will be in `target/` directory).
2. Move into the directory of the project to analyze: `cd <PATH-PROJECT>`
3. Compile the project (at least the classes to test). For instance: `mvn package -DskipTests=true`.
3. Generate the tests for a class: `java -jar <PATH-TO>/evosuite-1.2.0.jar -class <CLASS-FQN> -projectCP <CLASSPATH>`. The `<CLASSPATH>` must point to the base directory of all `.class` files of the project, e.g., `target/classes`
    - EXPLAIN ES OPTIONS HERE
4. Compile the generated tests:
    1. Retrieve the dependencies to JUnit 4+ and Hamcrest 1.3+ (preferrably, use the  used by the project under test). One possible solution could be: `mvn dependency:copy-dependencies -DincludeArtifactIds=junit,junit-jupiter,hamcrest,hamcrest-core`, which will copy JUnit and Hamcrest dependencies into `target/dependency`
    2. Compile all Java files generated by EvoSuite using the appropriate classpath: `javac $(find ./evosuite-tests -name "*.java") -cp target/classes:<PATH-TO>/evosuite/evosuite-1.2.0.jar:target/dependency/junit-jupiter-5.9.1.jar:target/dependency/hamcrest-2.2.jar`. The .class files will be in the same directory of the source files.
5. Run the generated tests using a JUnit launcher. For example, with JUnit 5 command-line tool: `java -cp evosuite-tests:target/classes:<PATH-TO>/evosuite-1.2.0.jar:<PATH-TO>/junit-platform-console-standalone-1.9.2.jar org.junit.platform.console.ConsoleLauncher -c org.apache.commons.csv.IOUtils_ESTest`
    - Use `--scan-class-path` instead of `-c org.apache.commons.csv.IOUtils_ESTest` to run all the compiled EvoSuite tests.

## Running EvoSuite 1.2.0 in a Docker container

Requirements:

- `Docker`

Steps:

1. Run `docker pull evosuite/evosuite:1.2.0-java-8`